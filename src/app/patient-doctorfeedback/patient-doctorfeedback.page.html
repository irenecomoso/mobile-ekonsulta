<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-button (click)="back()"><ion-icon name="arrow-back-outline"></ion-icon></ion-button>
    </ion-buttons>
    <ion-title>Doctor Feedback</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-list>
    <ion-item>
      <ion-avatar slot="start">
        <img src="{{info2.image}}">
      </ion-avatar>
      <ion-label>
        <h2>{{info2.fullname}}</h2>
        <p>Email: {{info2.email}}</p>
        <p>Contact: {{info2.contact_number}}</p>
        <p>Address: {{info2.address}}</p>
      </ion-label>
      <ion-label class="row">
        <ion-label class="col-md-2">
          <p class="rating rating1" *ngIf="doctor_rating <= '1'">Rating: {{doctor_rating}}</p>
          <p class="rating rating2" *ngIf="doctor_rating >= '1' && doctor_rating <= '2'">Rating: {{doctor_rating}}</p>
          <p class="rating rating3" *ngIf="doctor_rating >= '2.1' && doctor_rating <= '3'">Rating: {{doctor_rating}}</p>
          <p class="rating rating4" *ngIf="doctor_rating >= '3.1' && doctor_rating <= '4'">Rating: {{doctor_rating}}</p>
          <p class="rating rating5" *ngIf="doctor_rating >= '4.1' && doctor_rating <= '5'">Rating: {{doctor_rating}}</p>
        </ion-label>
      </ion-label>
    </ion-item>
  </ion-list>
  <div class="content">
    <div>
      <ion-list *ngFor="let list of flist">
        <ion-item lines="none" id="feedback">
          <ion-avatar slot="start">
            <img src="{{list.image}}">
          </ion-avatar>
          <ion-label>
            <h2>{{list.fullname}}</h2>
            <h3>{{list.feedback}}</h3>
            <p>{{list.createdAt}}</p>
            <ion-label>
              <span class="list-rating" *ngIf="list.rating === '1'" style="color: red;">{{list.rating}} <i class="bi bi-star-fill"></i></span>
                  <span class="list-rating" *ngIf="list.rating === '2'" style="color: red;">{{list.rating}} <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i></span>
                  <span class="list-rating" *ngIf="list.rating === '3'" style="color: rgb(0, 160, 0)">{{list.rating}} <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i></span>
                  <span class="list-rating" *ngIf="list.rating === '4'" style="color: green">{{list.rating}} <i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i></span>
                  <span class="list-rating" *ngIf="list.rating === '5'" style="color: rgb(255, 174, 0)">{{list.rating}} <i class="bi bi-star-fill"><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i><i class="bi bi-star-fill"></i></i></span>
            </ion-label>
          </ion-label>
        </ion-item>
      </ion-list>
      <!--Replies-->
    <div id="replies">
      <ion-list *ngFor="let reply of replyList">
        <ion-icon name="return-down-forward-outline"></ion-icon>
        <ion-item lines="none" id="feedback">
          <ion-avatar slot="start">
            <img src="{{info2.image}}">
          </ion-avatar>
          <ion-label>
            <h2>{{reply.fullname}}</h2>
            <h3>{{reply.feedback}}</h3>
            <p>{{reply.createdAt}}</p>
          </ion-label>
        </ion-item>
      </ion-list>
     </div>
    </div>
  </div>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-item>
      <ion-textarea [(ngModel)]="feedback" name="feedback"  placeholder="Add feedback"></ion-textarea>
    </ion-item>
    <ion-buttons slot="end">
      <ion-button (click)="add_feedback()" type="submit" id="add">Add
        <ion-icon name="add"></ion-icon>
      </ion-button>
    </ion-buttons>
  </ion-toolbar>
</ion-footer>
